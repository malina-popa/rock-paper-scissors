<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, paper, scissors</title>
</head>
<body>
    <script>
        let playerScore = 0;
        let computerScore = 0;
        
        //Create a function getComputerChoice that will randomly return "rock", "paper" or "scissors".
        //This solution uses arrays:
        
        /* function getComputerChoice () {
            const choice = ["rock", "paper", "scissors"];
            return choice[Math.floor(Math.random() * choice.length)]; //return choice de [valoarea random-num - rock, paper etc.]
        }

        console.log(getComputerChoice()) */

        //This is a non-array solution:

        function getComputerChoice () {
            const choice = Math.floor(Math.random() * 3) + 1;

            if (choice === 1) {
                return "rock";
            } else if (choice === 2) {
                return "paper";
            } else {
                return "scissors";
            }
        }

        //Create a playRound function that plays a single round or Rock, Paper, Scissors
        //takes 2 case-insensitive parameters (playerSelection and computerSelection)
        //and returns a string that declares the winner.

        //if the player inputs rock and the computer inputs scissors = you won!
        //if the player inputs rock and the computer inputs paper = you lost!

        //if the player inputs paper and the computer inputs rock = you won!
        //if the player inputs paper and the computer inputs scissors = you lost!

        //if the player inputs scissors and the computer inputs paper = you won!
        //if the player inputs scissors and the computer inputs rock = you lost!

        //if player choice === computer choice = it'a a tie!
        
        function playRound (playerSelection, computerSelection) {
            if (playerSelection === "rock" && computerSelection === "scissors") {
                return "Rock beats scissors. You won!";
            } else if (playerSelection === "rock" && computerSelection === "paper") {
                return "Paper beats rock. You lost!";
            } else if (playerSelection === "paper" && computerSelection === "rock") {
                return "Paper beats rock. You won!";
            } else if (playerSelection === "paper" && computerSelection === "scissors") {
                return "Scissors beats paper. You lost!";
            } else if (playerSelection === "scissors" && computerSelection === "paper") {
                return "Scissors beats paper. You won!";
            } else if (playerSelection === "scissors" && computerSelection === "rock") {
                return "Rock beats scissors. You lost!";
            } else if (playerSelection === computerSelection) {
                return "It's a tie!";
            } else if (playerSelection === null) {
                return;
            } else if (playerSelection !== "rock" || playerSelection !== "paper" || playerSelection !== "scissors") {
                return "You have to write rock, paper or scissors!";
            } 
        }

        function finalScore (playerScore, computerScore) {
            if (playerScore > computerScore) {
                console.log("You won the game!")
            } else if (playerScore < computerScore) {
                console.log("You lost the game!")
            } else {
                console.log("It's a tie!")
            }

            console.log(playerScore, computerScore)
        }
        
        
        //Create a game function that contains playRound
        //loops 5 times
        //keeps score
        //reports a winner/loser at the end

        function game() {
            const playerSelection = prompt("Let's play Rock, Paper, Scissors! Please insert 'rock', 'paper', or 'scissors' to start playing.");
            console.log(playerSelection)
            const computerSelection = getComputerChoice();
            let result = playRound(playerSelection, computerSelection);
            return result;
        }

        //global scope; outcome = result de mai sus
        for (let i = 0; i < 5; i++) {
            let outcome = game();
            let playerWon = !!outcome.match(/won/); //converts it to boolean; can also be written as let playerWon = outcome.match(/won/), and then... (see below)
            let computerWon = !!outcome.match(/lost/);
            if (playerWon == true) {//...here you'd have playerWon !== null;
                playerScore = playerScore + 1;
            } else if (computerWon == true) {
                computerScore = computerScore + 1;
            } else if (outcome == "You have to write rock, paper or scissors!") {
                console.log(outcome)
            }
            if (!outcome) { //in case you hit cancel
                break;
            }
        }

        finalScore(playerScore, computerScore);
        
        

    </script>
</body>
</html>